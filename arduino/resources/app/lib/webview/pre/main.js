!function(){"use strict";const e=()=>document.getElementById("active-frame"),t=()=>document.getElementById("pending-frame");function n(n){let o,s=!0,r=[];const a={initialScrollProgress:void 0},i=(e,t)=>{if(e&&(t&&(t.classList.remove("vscode-light","vscode-dark","vscode-high-contrast"),t.classList.add(a.activeThemeType),t.setAttribute("data-vscode-theme-kind",a.activeThemeType),t.setAttribute("data-vscode-theme-name",a.activeThemeName)),a.styles))for(const t of Object.keys(a.styles))e.documentElement.style.setProperty(`--${t}`,a.styles[t])},c=e=>{if(!e||!e.view||!e.view.document)return;let t=e.view.document.getElementsByTagName("base")[0],o=e.target;for(;o;){if(o.tagName&&"a"===o.tagName.toLowerCase()&&o.href){if("#"===o.getAttribute("href"))e.view.scrollTo(0,0);else if(o.hash&&(o.getAttribute("href")===o.hash||t&&o.href.indexOf(t.href)>=0)){let t=e.view.document.getElementById(o.hash.substring(1,o.hash.length));t&&t.scrollIntoView()}else n.postMessage("did-click-link",o.href.baseVal||o.href);e.preventDefault();break}o=o.parentNode}},d=e=>{if(e.view&&e.view.document&&1===e.button){let t=e.target;for(;t;){if(t.tagName&&"a"===t.tagName.toLowerCase()&&t.href){e.preventDefault();break}t=t.parentNode}}},l=e=>{!function(e){var t=navigator.platform.toUpperCase().indexOf("MAC")>=0;(112===e.keyCode||(e.ctrlKey&&!t||e.metaKey&&t)&&(80===e.keyCode||83===e.keyCode))&&e.preventDefault()}(e),n.postMessage("did-keydown",{key:e.key,keyCode:e.keyCode,code:e.code,shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,repeat:e.repeat})},u=e=>{n.postMessage("did-mousedown",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey})},g=e=>{n.postMessage("did-mouseup",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey})},m=e=>{e.defaultPrevented||(e.preventDefault(),n.postMessage("did-context-menu",{clientX:e.clientX,clientY:e.clientY,context:f(e.target)}))};function f(e){return e?e.dataset?.vscodeContext?JSON.parse(e.dataset.vscodeContext):f(e.parentElement):{}}let b=!1;const v=e=>{if(!e.target||!e.target.body)return;if(b)return;const t=e.currentTarget.scrollY/e.target.body.clientHeight;isNaN(t)||(b=!0,window.requestAnimationFrame((()=>{try{n.postMessage("did-scroll",t)}catch(e){}b=!1})))};document.addEventListener("DOMContentLoaded",(()=>{const f=document.location.search.match(/\bid=([\w-]+)/),b=f?f[1]:void 0;if(!document.body)return;n.onMessage("styles",((t,n)=>{a.styles=n.styles,a.activeThemeType=n.activeThemeType,a.activeThemeName=n.activeThemeName;const o=e();o&&o.contentDocument&&i(o.contentDocument,o.contentDocument.body)})),n.onMessage("focus",(()=>{const t=e();t&&t.contentWindow.focus()}));let w=0;n.onMessage("content",(async(f,h)=>{const p=++w;if(await n.ready,p!==w)return;const y=h.options,k=function(e){const t=e.options,o=e.contents,s=(new DOMParser).parseFromString(o,"text/html");if(s.querySelectorAll("a").forEach((e=>{e.title||(e.title=e.getAttribute("href"))})),t.allowScripts){const t=s.createElement("script");t.textContent=`\nglobalThis.acquireVsCodeApi = (function() {\n    const originalPostMessage = window.parent.postMessage.bind(window.parent);\n    const originalConsole = {...console};\n    const targetOrigin = '*';\n    let acquired = false;\n\n    let state = ${(r=e.state)?`JSON.parse(${JSON.stringify(r)})`:void 0};\n\n    const forwardConsoleLog = (level, msg, args) => {\n        let message, optionalParams;\n        try {\n            if (msg) {\n                message = JSON.stringify(msg) ?? null;\n            }\n            if (args) {\n                optionalParams = JSON.stringify(args) ?? null;\n            }\n        } catch (e) {\n            // Log non serializable objects inside of view\n            originalConsole[level](msg, args);\n            return;\n        }\n        originalPostMessage({ command: 'onconsole', data: { level, message, optionalParams } }, targetOrigin);\n    };\n\n    console.log = (message, args) => forwardConsoleLog('log', message, args);\n    console.info = (message, args) => forwardConsoleLog('info', message, args);\n    console.warn = (message, args) => forwardConsoleLog('warn', message, args);\n    console.error = (message, args) => forwardConsoleLog('error', message, args);\n    console.debug = (message, args) => forwardConsoleLog('debug', message, args);\n    console.trace = (message, args) => forwardConsoleLog('trace', message, args);\n\n    return () => {\n        if (acquired) {\n            throw new Error('An instance of the VS Code API has already been acquired');\n        }\n        acquired = true;\n        return Object.freeze({\n            postMessage: function (msg) {\n                return originalPostMessage({ command: 'onmessage', data: msg }, targetOrigin);\n            },\n            setState: function (newState) {\n                state = newState;\n                originalPostMessage({ command: 'do-update-state', data: JSON.stringify(newState) }, targetOrigin);\n                return newState;\n            },\n            getState: function () {\n                return state;\n            }\n        });\n    };\n})();\nglobalThis.acquireTheiaApi = acquireVsCodeApi;\ndelete window.parent;\ndelete window.top;\ndelete window.frameElement;        \n`,s.head.prepend(t)}var r;const a=s.createElement("style");a.id="_defaultStyles",a.innerHTML="\n    body {\n        background-color: var(--vscode-editor-background);\n        color: var(--vscode-editor-foreground);\n        font-family: var(--vscode-font-family);\n        font-weight: var(--vscode-font-weight);\n        font-size: var(--vscode-font-size);\n        margin: 0;\n        padding: 0 20px;\n    }\n\n    img {\n        max-width: 100%;\n        max-height: 100%;\n    }\n\n    a {\n        color: var(--vscode-textLink-foreground);\n    }\n\n    a:hover {\n        color: var(--vscode-textLink-activeForeground);\n    }\n\n    a:focus,\n    input:focus,\n    select:focus,\n    textarea:focus {\n        outline: 1px solid -webkit-focus-ring-color;\n        outline-offset: -1px;\n    }\n\n    code {\n        color: var(--vscode-textPreformat-foreground);\n    }\n\n    blockquote {\n        background: var(--vscode-textBlockQuote-background);\n        border-color: var(--vscode-textBlockQuote-border);\n    }\n\n    kbd {\n        color: var(--vscode-editor-foreground);\n        border-radius: 3px;\n        vertical-align: middle;\n        padding: 1px 3px;\n\n        background-color: hsla(0,0%,50%,.17);\n        border: 1px solid rgba(71,71,71,.4);\n        border-bottom-color: rgba(88,88,88,.4);\n        box-shadow: inset 0 -1px 0 rgba(88,88,88,.4);\n    }\n    .vscode-light kbd {\n        background-color: hsla(0,0%,87%,.5);\n        border: 1px solid hsla(0,0%,80%,.7);\n        border-bottom-color: hsla(0,0%,73%,.7);\n        box-shadow: inset 0 -1px 0 hsla(0,0%,73%,.7);\n    }\n\n    ::-webkit-scrollbar {\n        width: 10px;\n        height: 10px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background-color: var(--vscode-scrollbarSlider-background);\n    }\n    ::-webkit-scrollbar-thumb:hover {\n        background-color: var(--vscode-scrollbarSlider-hoverBackground);\n    }\n    ::-webkit-scrollbar-thumb:active {\n        background-color: var(--vscode-scrollbarSlider-activeBackground);\n    }",s.head.prepend(a),i(s,s.body);const c=s.querySelector('meta[http-equiv="Content-Security-Policy"]');if(null!==c){const e=c.getAttribute("content");if(null!==e)try{c.setAttribute("content",e.replace(/(vscode-webview-resource|vscode-resource):(?=(\s|;|$))/g,"'self'"))}catch(e){console.error("Could not rewrite csp")}}else n.postMessage("no-csp-found");return"<!DOCTYPE html>\n"+s.documentElement.outerHTML}(h),x=e(),L=s;let C;if(s)s=!1,C=(e,t)=>{isNaN(a.initialScrollProgress)||0===t.scrollY&&t.scroll(0,e.clientHeight*a.initialScrollProgress)};else{const e=x&&x.contentDocument&&x.contentDocument.body?x.contentWindow.scrollY:0;C=(t,n)=>{0===n.scrollY&&n.scroll(0,e)}}const M=t();M&&(M.setAttribute("id",""),document.body.removeChild(M)),L||(r=[]);const S=document.createElement("iframe");S.setAttribute("id","pending-frame"),S.setAttribute("frameborder","0");const K=["allow-same-origin"];y.allowScripts&&K.push("allow-scripts","allow-downloads"),(y.allowForms??y.allowScripts)&&K.push("allow-forms"),S.setAttribute("sandbox",K.join(" ")),n.fakeLoad&&(S.src=`./fake.html?id=${b}`),S.style.cssText="display: block; margin: 0; overflow: hidden; position: absolute; width: 100%; height: 100%; visibility: hidden",document.body.appendChild(S),n.fakeLoad||S.contentDocument.open(),S.contentWindow.addEventListener("DOMContentLoaded",(e=>{setTimeout((()=>{n.fakeLoad&&(S.contentDocument.open(),S.contentDocument.write(k),S.contentDocument.close(),E(S));const t=e.target?e.target:void 0;t&&i(t,t.body)}),0)}));const T=(o,s)=>{o&&o.body&&C(o.body,s);const a=t();if(a&&a.contentDocument&&a.contentDocument===o){const t=e();t&&document.body.removeChild(t),i(a.contentDocument,a.contentDocument.body),a.setAttribute("id","active-frame"),a.style.visibility="visible",n.focusIframeOnCreate&&a.contentWindow.focus(),s.addEventListener("scroll",v),r.forEach((e=>{s.postMessage(e,"*")})),r=[]}};function E(e){clearTimeout(o),o=void 0,o=setTimeout((()=>{clearTimeout(o),o=void 0,console.warn("Loading webview is slow, took: "+5e3.toFixed(1)+"ms"),T(e.contentDocument,e.contentWindow)}),5e3),e.contentWindow.addEventListener("load",(function(e){o&&(clearTimeout(o),o=void 0,T(e.target,this))})),e.contentWindow.addEventListener("click",c),e.contentWindow.addEventListener("auxclick",d),e.contentWindow.addEventListener("keydown",l),e.contentWindow.addEventListener("mousedown",u),e.contentWindow.addEventListener("mouseup",g),e.contentWindow.addEventListener("contextmenu",m),n.onIframeLoaded&&n.onIframeLoaded(e)}n.fakeLoad||E(S),n.fakeLoad||(S.contentDocument.write(k),S.contentDocument.close()),n.postMessage("did-set-content",void 0)})),n.onMessage("message",((n,o)=>{if(!t()){const t=e();if(t)return void t.contentWindow.postMessage(o,"*")}r.push(o)})),n.onMessage("initial-scroll-position",((e,t)=>{a.initialScrollProgress=t})),(({onFocus:e,onBlur:t})=>{let n=document.hasFocus();setInterval((()=>{const o=document.hasFocus();o!==n&&(n=o,o?e():t())}),50)})({onFocus:()=>n.postMessage("did-focus"),onBlur:()=>n.postMessage("did-blur")}),n.postMessage("webview-ready",{})}))}"undefined"!=typeof module?module.exports=n:window.createWebviewManager=n}();