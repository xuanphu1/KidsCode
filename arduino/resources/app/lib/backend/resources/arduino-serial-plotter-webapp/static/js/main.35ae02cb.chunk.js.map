{"version":3,"sources":["utils.ts","images/checkmark.svg","LegendItem.tsx","Legend.tsx","MessageToBoard.tsx","ChartPlotter.tsx","msgAggregatorWorker.ts","fakeMessagsGenerators.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["isEOL","str","includes","ClientCommand","MiddlewareCommand","message","Array","isArray","command","Object","keys","Protocol","PluggableMonitor","lineColors","existingDatasetsMap","datapointCounter","LegendItem","dataset","chartRef","useState","hidden","visible","setVisible","style","backgroundColor","borderColor","toString","onClick","update","className","src","checkmark","alt","label","Legend","pause","config","cubicInterpolationMode","wsSend","setPause","setInterpolate","scrollRef","useRef","showScrollLeft","setShowScrollLeft","showScrollRight","setShowScrollRight","checkScrollArrows","current","getClientWidth","getScrollWidth","getScrollLeft","useEffect","window","addEventListener","removeEventListener","scrollLeft","width","height","viewBox","fill","xmlns","d","ref","renderTrackVertical","props","renderTrackHorizontal","marginRight","marginLeft","onScroll","data","datasets","map","i","checkedIcon","uncheckedIcon","handleDiameter","offColor","onColor","onChange","val","CHANGE_SETTINGS","monitorUISettings","interpolate","checked","disabled","connected","classNames","paused","title","undefined","dataI","React","memo","setMessage","baudRate","pluggableMonitorSettings","baudrate","selectedValue","lineEnding","lineendings","value","baudrates","values","baud","onSubmit","e","SEND_MESSAGE","preventDefault","stopPropagation","type","event","target","placeholder","length","classNamePrefix","isDisabled","findIndex","l","name","options","menuPlacement","b","Chart","register","ChartStreaming","worker","Worker","_Chart","setForceUpdate","setConnected","dataPointThreshold","setCubicInterpolationMode","initialData","animation","maintainAspectRatio","normalized","parsing","line","pointRadius","pointHoverRadius","interaction","intersect","plugins","tooltip","caretPadding","enabled","bodyFont","family","titleFont","decimation","algorithm","legend","display","elements","tension","scales","y","grid","color","darkTheme","ticks","font","grace","x","count","callback","parseInt","align","bounds","opts","setOpts","enableTooltips","useCallback","newState","postMessage","useImperativeHandle","addNewData","addData","parsedMessages","chart","datasetNames","parsedLines","existingDatasetNames","forEach","datasetName","newDataset","borderWidth","push","parsedLine","xAxis","Date","now","newPoint","oldDataValue","s","delCount","splice","addDataPoints","realtime","newCubicInterpolationMode","anchorOrigin","horizontal","vertical","autoHideDuration","closeable","isOpen","theme","turnOffAutoHide","ChartPlotter","forwardRef","variableIdexes","genNamedVarValPair","Math","floor","random","namedVariables","messages","pair","join","index","App","setConfig","webSocketPort","setWebsocketPort","serialPort","setSerialPort","websocketIsConnected","setWebsocketIsConnected","websocket","clientCommand","readyState","WebSocket","OPEN","send","JSON","stringify","onMiddlewareMessage","isDataMessage","isMiddlewareCommandMessage","autoscroll","timestamp","wsPort","serialPortExtracted","generate","updateTitle","serialNameTitle","connectedTitle","document","body","classList","add","remove","id","prevConfig","console","log","wsCurrent","close","onmessage","res","parse","urlParams","URLSearchParams","location","search","urlSettings","get","split","ON_SETTINGS_DID_CHANGE","randomValuesInterval","setInterval","namedVariablesMulti","clearInterval","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.35ae02cb.chunk.js","sourcesContent":["import { ChartDataset, ChartOptions } from \"chart.js\";\nimport { ChartJSOrUndefined } from \"react-chartjs-2/dist/types\";\n\nexport interface PluggableMonitorSetting {\n  // The setting identifier\n  readonly id?: string;\n  // A human-readable label of the setting (to be displayed on the GUI)\n  readonly label?: string;\n  // The setting type (at the moment only \"enum\" is avaiable)\n  readonly type?: string;\n  // The values allowed on \"enum\" types\n  readonly values?: string[];\n  // The selected value\n  selectedValue: string;\n}\ntype PluggableMonitorSettings = Record<\"baudrate\", PluggableMonitorSetting>;\n\nexport type EOL = \"\" | \"\\n\" | \"\\r\" | \"\\r\\n\";\n\nexport function isEOL(str: any): str is EOL {\n  const eol = [\"\", \"\\n\", \"\\r\", \"\\r\\n\"];\n  return typeof str === \"string\" && eol.includes(str);\n}\n\ninterface MonitorModelState {\n  autoscroll: boolean;\n  timestamp: boolean;\n  lineEnding: EOL;\n  interpolate: boolean;\n  darkTheme: boolean;\n  wsPort: number;\n  serialPort: string;\n  connected: boolean;\n  generate?: boolean;\n}\n\nexport interface MonitorSettings {\n  pluggableMonitorSettings: PluggableMonitorSettings;\n  monitorUISettings: Partial<MonitorModelState>;\n}\n\nexport namespace PluggableMonitor {\n  export namespace Protocol {\n    export enum ClientCommand {\n      SEND_MESSAGE = \"SEND_MESSAGE\",\n      CHANGE_SETTINGS = \"CHANGE_SETTINGS\",\n    }\n\n    export enum MiddlewareCommand {\n      ON_SETTINGS_DID_CHANGE = \"ON_SETTINGS_DID_CHANGE\",\n    }\n\n    export type ClientCommandMessage = {\n      command: ClientCommand;\n      data: Partial<MonitorSettings> | string;\n    };\n    type MiddlewareCommandMessage = {\n      command: MiddlewareCommand;\n      data: Partial<MonitorSettings>;\n    };\n    type DataMessage = string[];\n\n    export type Message =\n      | ClientCommandMessage\n      | MiddlewareCommandMessage\n      | DataMessage;\n\n    export function isClientCommandMessage(\n      message: Message\n    ): message is ClientCommandMessage {\n      return (\n        !Array.isArray(message) &&\n        typeof message.command === \"string\" &&\n        Object.keys(ClientCommand).includes(message.command)\n      );\n    }\n    export function isMiddlewareCommandMessage(\n      message: Message\n    ): message is MiddlewareCommandMessage {\n      return (\n        !Array.isArray(message) &&\n        typeof message.command === \"string\" &&\n        Object.keys(MiddlewareCommand).includes(message.command)\n      );\n    }\n    export function isDataMessage(message: Message): message is DataMessage {\n      return Array.isArray(message);\n    }\n  }\n}\n\nconst lineColors = [\n  \"#0072B2\",\n  \"#D55E00\",\n  \"#009E73\",\n  \"#E69F00\",\n  \"#CC79A7\",\n  \"#56B4E9\",\n  \"#F0E442\",\n  \"#95A5A6\",\n];\n\nlet existingDatasetsMap: {\n  [key: string]: ChartDataset<\"line\">;\n} = {};\n\nexport const resetExistingDatasetsMap = () => {\n  existingDatasetsMap = {};\n};\nexport const resetDatapointCounter = () => {\n  datapointCounter = 0;\n};\n\nexport let datapointCounter = 0;\n\nexport const addDataPoints = (\n  parsedMessages: {\n    datasetNames: string[];\n    parsedLines: { [key: string]: number }[];\n  },\n  chart: ChartJSOrUndefined,\n  opts: ChartOptions<\"line\">,\n  cubicInterpolationMode: \"default\" | \"monotone\",\n  dataPointThreshold: number,\n  setForceUpdate: React.Dispatch<any>\n) => {\n  if (!chart) {\n    return;\n  }\n\n  // if the chart has been crated, can add data to it\n  if (chart && chart.data.datasets) {\n    const { datasetNames, parsedLines } = parsedMessages;\n\n    const existingDatasetNames = Object.keys(existingDatasetsMap);\n\n    // add missing datasets to the chart\n    existingDatasetNames.length < 8 &&\n      datasetNames.forEach((datasetName) => {\n        if (\n          !existingDatasetNames.includes(datasetName) &&\n          existingDatasetNames.length < 8\n        ) {\n          const newDataset = {\n            data: [],\n            label: datasetName,\n            borderColor: lineColors[existingDatasetNames.length],\n            backgroundColor: lineColors[existingDatasetNames.length],\n            borderWidth: 1,\n            pointRadius: 0,\n            cubicInterpolationMode,\n          };\n\n          existingDatasetsMap[datasetName] = newDataset;\n          chart.data.datasets.push(newDataset);\n          existingDatasetNames.push(datasetName);\n\n          // used to force a re-render in the parent component\n          setForceUpdate(existingDatasetNames.length);\n        }\n      });\n\n    // iterate every parsedLine, adding each variable to the corrisponding variable in the dataset\n    // if a dataset has not variable in the line, fill it with and empty value\n    parsedLines.forEach((parsedLine) => {\n      const xAxis =\n        opts.scales!.x?.type === \"realtime\" ? Date.now() : datapointCounter++;\n\n      // add empty values to datasets that are missing in the parsedLine\n      Object.keys(existingDatasetsMap).forEach((datasetName) => {\n        const newPoint =\n          datasetName in parsedLine\n            ? {\n                x: xAxis,\n                y: parsedLine[datasetName],\n              }\n            : null;\n\n        newPoint && existingDatasetsMap[datasetName].data.push(newPoint);\n      });\n    });\n\n    const oldDataValue = datapointCounter - dataPointThreshold;\n    for (let s = 0; s < chart.data.datasets.length; s++) {\n      const dataset = chart.data.datasets[s];\n\n      let delCount = 0;\n      for (let i = 0; i < dataset.data.length; i++) {\n        if (dataset.data[i] && (dataset.data[i] as any).x < oldDataValue) {\n          delCount++;\n        } else {\n          dataset.data.splice(0, delCount);\n          break; // go to the next dataset\n        }\n\n        // purge the data if we need to remove all points\n        if (dataset.data.length === delCount) {\n          // remove the whole dataset from the chart and the map\n          delete existingDatasetsMap[dataset.label!];\n          chart.data.datasets.splice(s, 1);\n          setForceUpdate(-1);\n        }\n      }\n    }\n    chart.update();\n  }\n};\n","export default __webpack_public_path__ + \"static/media/checkmark.345d2161.svg\";","import { ChartDataset } from \"chart.js\";\nimport React, { useState, CSSProperties } from \"react\";\nimport { ChartJSOrUndefined } from \"react-chartjs-2/dist/types\";\n\nimport checkmark from \"./images/checkmark.svg\";\n\nexport function LegendItem({\n  dataset,\n  chartRef,\n}: {\n  dataset: ChartDataset<\"line\">;\n  chartRef: ChartJSOrUndefined<\"line\">;\n}): React.ReactElement {\n  const [visible, setVisible] = useState(!dataset.hidden);\n\n  if (!dataset) {\n    return <></>;\n  }\n\n  const bgColor = visible ? dataset.borderColor!.toString() : \"\";\n  const style: CSSProperties = {\n    backgroundColor: bgColor,\n    borderColor: dataset.borderColor!.toString(),\n  };\n\n  return (\n    <label\n      onClick={() => {\n        if (visible) {\n          dataset.hidden = true;\n          setVisible(false);\n        } else {\n          dataset.hidden = false;\n          setVisible(true);\n        }\n        chartRef?.update();\n      }}\n    >\n      <span style={style} className=\"checkbox\">\n        {visible && <img src={checkmark} alt=\"\" />}\n      </span>\n      {dataset?.label}\n    </label>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { ChartJSOrUndefined } from \"react-chartjs-2/dist/types\";\nimport { LegendItem } from \"./LegendItem\";\nimport { MonitorSettings, PluggableMonitor } from \"./utils\";\nimport { Scrollbars } from \"react-custom-scrollbars\";\nimport Switch from \"react-switch\";\nimport classNames from \"classnames\";\n\nexport function Legend({\n  chartRef,\n  pause,\n  config,\n  cubicInterpolationMode,\n  wsSend,\n  setPause,\n  setInterpolate,\n}: {\n  chartRef: ChartJSOrUndefined<\"line\">;\n  pause: boolean;\n  config: Partial<MonitorSettings>;\n  cubicInterpolationMode: \"monotone\" | \"default\";\n  wsSend: (\n    clientCommand: PluggableMonitor.Protocol.ClientCommandMessage\n  ) => void;\n  setPause: (pause: boolean) => void;\n  setInterpolate: (interpolate: boolean) => void;\n}): React.ReactElement {\n  const scrollRef = useRef<Scrollbars>(null);\n\n  const [showScrollLeft, setShowScrollLeft] = useState(false);\n  const [showScrollRight, setShowScrollRight] = useState(false);\n\n  const checkScrollArrows = () => {\n    if (\n      scrollRef.current &&\n      scrollRef.current.getClientWidth() < scrollRef.current.getScrollWidth()\n    ) {\n      setShowScrollLeft(true);\n      setShowScrollRight(true);\n      if (scrollRef.current.getScrollLeft() === 0) setShowScrollLeft(false);\n      if (\n        scrollRef.current.getScrollLeft() +\n          scrollRef.current.getClientWidth() >=\n        scrollRef.current.getScrollWidth()\n      )\n        setShowScrollRight(false);\n    } else {\n      setShowScrollLeft(false);\n      setShowScrollRight(false);\n    }\n  };\n\n  useEffect(() => {\n    checkScrollArrows();\n  }, [chartRef, pause, setPause, config]);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", checkScrollArrows);\n    return () => {\n      window.removeEventListener(\"resize\", checkScrollArrows);\n    };\n  }, []);\n  return (\n    <div className=\"legend\">\n      <div className=\"scroll-wrap\">\n        {showScrollLeft && (\n          <button\n            className=\"scroll-button left\"\n            onClick={() => {\n              scrollRef.current?.scrollLeft(\n                scrollRef.current.getScrollLeft() - 100\n              );\n            }}\n          >\n            <svg\n              width=\"15\"\n              height=\"15\"\n              viewBox=\"0 0 15 15\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M7.5 14.9375C8.971 14.9375 10.409 14.5013 11.6321 13.6841C12.8551 12.8668 13.8084 11.7052 14.3714 10.3462C14.9343 8.98718 15.0816 7.49175 14.7946 6.04902C14.5076 4.60628 13.7993 3.28105 12.7591 2.24089C11.719 1.20074 10.3937 0.492387 8.95098 0.205409C7.50825 -0.0815684 6.01282 0.0657188 4.65379 0.628645C3.29477 1.19157 2.13319 2.14486 1.31594 3.36795C0.498701 4.59104 0.0624998 6.029 0.0624997 7.5C0.0624995 9.47255 0.846091 11.3643 2.24089 12.7591C3.63569 14.1539 5.52745 14.9375 7.5 14.9375ZM4.99781 7.12281L8.18531 3.93531C8.2347 3.88552 8.29345 3.846 8.35819 3.81903C8.42293 3.79205 8.49237 3.77817 8.5625 3.77817C8.63263 3.77817 8.70207 3.79205 8.7668 3.81903C8.83154 3.846 8.8903 3.88552 8.93969 3.93531C8.98948 3.9847 9.029 4.04346 9.05597 4.10819C9.08294 4.17293 9.09683 4.24237 9.09683 4.3125C9.09683 4.38263 9.08294 4.45207 9.05597 4.51681C9.029 4.58154 8.98948 4.6403 8.93969 4.68969L6.12406 7.5L8.93969 10.3103C9.03972 10.4103 9.09592 10.546 9.09592 10.6875C9.09592 10.829 9.03972 10.9647 8.93969 11.0647C8.83965 11.1647 8.70397 11.2209 8.5625 11.2209C8.42102 11.2209 8.28535 11.1647 8.18531 11.0647L4.99781 7.87719C4.94802 7.8278 4.9085 7.76904 4.88152 7.70431C4.85455 7.63957 4.84067 7.57013 4.84067 7.5C4.84067 7.42987 4.85455 7.36043 4.88152 7.29569C4.9085 7.23096 4.94802 7.1722 4.99781 7.12281Z\"\n                fill=\"#424242\"\n              />\n            </svg>\n          </button>\n        )}\n        <Scrollbars\n          ref={scrollRef}\n          className=\"scrollbar\"\n          renderTrackVertical={(props) => <div {...props} className=\"track\" />}\n          renderTrackHorizontal={(props) => (\n            <div {...props} className=\"track\" />\n          )}\n          style={{\n            height: \"29px\",\n            marginRight: \"17px\",\n            marginLeft: \"-5px\",\n          }}\n          onScroll={checkScrollArrows}\n        >\n          <div className=\"chart-names\">\n            {chartRef?.data.datasets.map((dataset, i) => (\n              <LegendItem dataset={dataset} key={i} chartRef={chartRef} />\n            ))}\n          </div>\n        </Scrollbars>\n        {showScrollRight && (\n          <button\n            className=\"scroll-button right\"\n            onClick={() =>\n              scrollRef.current?.scrollLeft(\n                scrollRef.current.getScrollLeft() + 100\n              )\n            }\n          >\n            <svg\n              width=\"15\"\n              height=\"15\"\n              viewBox=\"0 0 15 15\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M7.5 0.0625C6.029 0.0625 4.59104 0.498702 3.36795 1.31594C2.14486 2.13319 1.19158 3.29477 0.628649 4.65379C0.0657225 6.01282 -0.0815647 7.50825 0.205413 8.95098C0.49239 10.3937 1.20074 11.719 2.2409 12.7591C3.28105 13.7993 4.60629 14.5076 6.04902 14.7946C7.49175 15.0816 8.98718 14.9343 10.3462 14.3714C11.7052 13.8084 12.8668 12.8551 13.6841 11.6321C14.5013 10.409 14.9375 8.971 14.9375 7.5C14.9375 5.52745 14.1539 3.63569 12.7591 2.24089C11.3643 0.846091 9.47255 0.0625 7.5 0.0625ZM10.0022 7.87719L6.81469 11.0647C6.7653 11.1145 6.70655 11.154 6.64181 11.181C6.57707 11.2079 6.50763 11.2218 6.4375 11.2218C6.36737 11.2218 6.29793 11.2079 6.2332 11.181C6.16846 11.154 6.1097 11.1145 6.06032 11.0647C6.01052 11.0153 5.971 10.9565 5.94403 10.8918C5.91706 10.8271 5.90317 10.7576 5.90317 10.6875C5.90317 10.6174 5.91706 10.5479 5.94403 10.4832C5.971 10.4185 6.01052 10.3597 6.06032 10.3103L8.87594 7.5L6.06032 4.68969C5.96028 4.58965 5.90408 4.45397 5.90408 4.3125C5.90408 4.17103 5.96028 4.03535 6.06032 3.93531C6.16035 3.83528 6.29603 3.77908 6.4375 3.77908C6.57898 3.77908 6.71465 3.83528 6.81469 3.93531L10.0022 7.12281C10.052 7.1722 10.0915 7.23096 10.1185 7.29569C10.1454 7.36043 10.1593 7.42987 10.1593 7.5C10.1593 7.57013 10.1454 7.63957 10.1185 7.70431C10.0915 7.76904 10.052 7.8278 10.0022 7.87719Z\"\n                fill=\"#2C353A\"\n              />\n            </svg>\n          </button>\n        )}\n      </div>\n      <div className=\"actions\">\n        <label className=\"interpolate\">\n          <span>Interpolate</span>\n          <Switch\n            checkedIcon={false}\n            uncheckedIcon={false}\n            height={20}\n            width={37}\n            handleDiameter={14}\n            offColor=\"#C9D2D2\"\n            onColor=\"#008184\"\n            onChange={(val) => {\n              setInterpolate(val);\n              // send new interpolation mode to middleware\n              wsSend({\n                command:\n                  PluggableMonitor.Protocol.ClientCommand.CHANGE_SETTINGS,\n                data: {\n                  monitorUISettings: {\n                    interpolate: val,\n                  },\n                },\n              });\n            }}\n            checked={cubicInterpolationMode === \"monotone\"}\n          />\n        </label>\n        <button\n          disabled={!config?.monitorUISettings?.connected}\n          className={classNames(\"pause-button\", { paused: pause })}\n          title={\n            config?.monitorUISettings?.connected\n              ? undefined\n              : \"Serial disconnected\"\n          }\n          onClick={() => {\n            if (!config?.monitorUISettings?.connected) return;\n            setPause(!pause);\n          }}\n        >\n          {((pause || !config?.monitorUISettings?.connected) && \"RUN\") ||\n            \"STOP\"}\n        </button>\n        <button\n          className=\"clear-button\"\n          onClick={() => {\n            if (chartRef && Array.isArray(chartRef.data.datasets)) {\n              for (let dataI in chartRef?.data.datasets) {\n                chartRef.data.datasets[dataI].data = [];\n              }\n            }\n            chartRef?.update();\n          }}\n        >\n          <svg\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M20.25 10.5H13.5C13.3011 10.5 13.1103 10.421 12.9697 10.2803C12.829 10.1397 12.75 9.94891 12.75 9.75C12.75 9.55109 12.829 9.36032 12.9697 9.21967C13.1103 9.07902 13.3011 9 13.5 9H20.25C20.4489 9 20.6397 9.07902 20.7803 9.21967C20.921 9.36032 21 9.55109 21 9.75C21 9.94891 20.921 10.1397 20.7803 10.2803C20.6397 10.421 20.4489 10.5 20.25 10.5Z\"\n              fill=\"#4E5B61\"\n            />\n            <path\n              d=\"M20.25 6H13.5C13.3011 6 13.1103 5.92098 12.9697 5.78033C12.829 5.63968 12.75 5.44891 12.75 5.25C12.75 5.05109 12.829 4.86032 12.9697 4.71967C13.1103 4.57902 13.3011 4.5 13.5 4.5H20.25C20.4489 4.5 20.6397 4.57902 20.7803 4.71967C20.921 4.86032 21 5.05109 21 5.25C21 5.44891 20.921 5.63968 20.7803 5.78033C20.6397 5.92098 20.4489 6 20.25 6Z\"\n              fill=\"#4E5B61\"\n            />\n            <path\n              d=\"M20.25 15H3.75C3.55109 15 3.36032 14.921 3.21967 14.7803C3.07902 14.6397 3 14.4489 3 14.25C3 14.0511 3.07902 13.8603 3.21967 13.7197C3.36032 13.579 3.55109 13.5 3.75 13.5H20.25C20.4489 13.5 20.6397 13.579 20.7803 13.7197C20.921 13.8603 21 14.0511 21 14.25C21 14.4489 20.921 14.6397 20.7803 14.7803C20.6397 14.921 20.4489 15 20.25 15Z\"\n              fill=\"#4E5B61\"\n            />\n            <path\n              d=\"M20.25 19.5H3.75C3.55109 19.5 3.36032 19.421 3.21967 19.2803C3.07902 19.1397 3 18.9489 3 18.75C3 18.5511 3.07902 18.3603 3.21967 18.2197C3.36032 18.079 3.55109 18 3.75 18H20.25C20.4489 18 20.6397 18.079 20.7803 18.2197C20.921 18.3603 21 18.5511 21 18.75C21 18.9489 20.921 19.1397 20.7803 19.2803C20.6397 19.421 20.4489 19.5 20.25 19.5Z\"\n              fill=\"#4E5B61\"\n            />\n            <path\n              d=\"M10.2829 9.9674C10.3532 10.0371 10.409 10.1201 10.4471 10.2115C10.4852 10.3029 10.5048 10.4009 10.5048 10.4999C10.5048 10.5989 10.4852 10.6969 10.4471 10.7883C10.409 10.8797 10.3532 10.9627 10.2829 11.0324C10.2132 11.1027 10.1303 11.1585 10.0389 11.1966C9.94748 11.2346 9.84945 11.2542 9.75044 11.2542C9.65143 11.2542 9.5534 11.2346 9.46201 11.1966C9.37062 11.1585 9.28766 11.1027 9.21794 11.0324L6.75044 8.5649L4.28294 11.0324C4.21322 11.1027 4.13027 11.1585 4.03888 11.1966C3.94748 11.2346 3.84945 11.2542 3.75044 11.2542C3.65143 11.2542 3.5534 11.2346 3.46201 11.1966C3.37062 11.1585 3.28766 11.1027 3.21794 11.0324C3.14765 10.9627 3.09185 10.8797 3.05377 10.7883C3.0157 10.6969 2.99609 10.5989 2.99609 10.4999C2.99609 10.4009 3.0157 10.3029 3.05377 10.2115C3.09185 10.1201 3.14765 10.0371 3.21794 9.9674L5.68544 7.4999L3.21794 5.0324C3.07671 4.89117 2.99737 4.69962 2.99737 4.4999C2.99737 4.30017 3.07671 4.10862 3.21794 3.96739C3.35917 3.82617 3.55072 3.74683 3.75044 3.74683C3.95017 3.74683 4.14171 3.82617 4.28294 3.96739L6.75044 6.4349L9.21794 3.96739C9.28787 3.89747 9.37089 3.842 9.46226 3.80415C9.55362 3.76631 9.65155 3.74683 9.75044 3.74683C9.84934 3.74683 9.94726 3.76631 10.0386 3.80415C10.13 3.842 10.213 3.89747 10.2829 3.96739C10.3529 4.03732 10.4083 4.12034 10.4462 4.21171C10.484 4.30307 10.5035 4.401 10.5035 4.4999C10.5035 4.59879 10.484 4.69672 10.4462 4.78808C10.4083 4.87945 10.3529 4.96247 10.2829 5.0324L7.81544 7.4999L10.2829 9.9674Z\"\n              fill=\"#4E5B61\"\n            />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport Select from \"react-select\";\nimport { isEOL, MonitorSettings, PluggableMonitor } from \"./utils\";\n\nexport default React.memo(function MessageToBoard({\n  config,\n  wsSend,\n}: {\n  config: Partial<MonitorSettings>;\n  wsSend: (\n    clientCommand: PluggableMonitor.Protocol.ClientCommandMessage\n  ) => void;\n}): React.ReactElement {\n  const [message, setMessage] = useState(\"\");\n\n  const baudRate = config?.pluggableMonitorSettings?.baudrate?.selectedValue;\n  const disabled = !config?.monitorUISettings?.connected;\n  const lineEnding = config?.monitorUISettings?.lineEnding;\n\n  const lineendings = [\n    { value: \"\", label: \"No Line Ending\" },\n    { value: \"\\n\", label: \"New Line\" },\n    { value: \"\\r\", label: \"Carriage Return\" },\n    { value: \"\\r\\n\", label: \"Both NL & CR\" },\n  ];\n\n  const baudrates = config?.pluggableMonitorSettings?.baudrate?.values?.map(\n    (baud) => ({\n      value: baud,\n      label: `${baud} baud`,\n    })\n  );\n\n  return (\n    <div className=\"message-to-board\">\n      <form\n        className=\"message-container\"\n        onSubmit={(e) => {\n          wsSend({\n            command: PluggableMonitor.Protocol.ClientCommand.SEND_MESSAGE,\n            data: message + lineEnding,\n          });\n          setMessage(\"\");\n          e.preventDefault();\n          e.stopPropagation();\n        }}\n      >\n        <input\n          className=\"message-to-board-input\"\n          type=\"text\"\n          disabled={disabled}\n          value={message}\n          onChange={(event) => setMessage(event.target.value)}\n          placeholder=\"Type Message\"\n        />\n        <button\n          type=\"submit\"\n          className={\"message-to-board-send-button\"}\n          disabled={message.length === 0 || disabled}\n        >\n          Send\n        </button>\n\n        <Select\n          className=\"singleselect lineending\"\n          classNamePrefix=\"select\"\n          isDisabled={disabled}\n          value={\n            lineendings[lineendings.findIndex((l) => l.value === lineEnding)]\n          }\n          name=\"lineending\"\n          options={lineendings}\n          menuPlacement=\"top\"\n          onChange={(event) => {\n            if (event && isEOL(event.value)) {\n              wsSend({\n                command:\n                  PluggableMonitor.Protocol.ClientCommand.CHANGE_SETTINGS,\n                data: {\n                  monitorUISettings: {\n                    lineEnding: event.value,\n                  },\n                },\n              });\n            }\n          }}\n        />\n      </form>\n\n      <div>\n        <div className=\"baud\">\n          {baudrates && (\n            <Select\n              className=\"singleselect\"\n              classNamePrefix=\"select\"\n              isDisabled={disabled}\n              value={\n                baudrates[baudrates.findIndex((b) => b.value === baudRate)]\n              }\n              name=\"baudrate\"\n              options={baudrates}\n              menuPlacement=\"top\"\n              onChange={(val) => {\n                if (val) {\n                  wsSend({\n                    command:\n                      PluggableMonitor.Protocol.ClientCommand.CHANGE_SETTINGS,\n                    data: {\n                      pluggableMonitorSettings: {\n                        baudrate: {\n                          ...config?.pluggableMonitorSettings?.baudrate,\n                          selectedValue: val.value,\n                        },\n                      },\n                    },\n                  });\n                }\n              }}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, {\n  useState,\n  useRef,\n  useImperativeHandle,\n  useEffect,\n  useCallback,\n} from \"react\";\n\nimport { Line } from \"react-chartjs-2\";\n\nimport { addDataPoints, MonitorSettings, PluggableMonitor } from \"./utils\";\nimport { Legend } from \"./Legend\";\nimport { Chart, ChartData, ChartOptions } from \"chart.js\";\nimport \"chartjs-adapter-luxon\";\nimport ChartStreaming from \"chartjs-plugin-streaming\";\n\nimport { ChartJSOrUndefined } from \"react-chartjs-2/dist/types\";\nimport MessageToBoard from \"./MessageToBoard\";\n\n// eslint-disable-next-line\nimport Worker from \"worker-loader!./msgAggregatorWorker\";\nimport { Snackbar } from \"@arduino/arc\";\n\nChart.register(ChartStreaming);\nconst worker = new Worker();\n\nfunction _Chart(\n  {\n    config,\n    wsSend,\n  }: {\n    config: Partial<MonitorSettings>;\n    wsSend: (\n      clientCommand: PluggableMonitor.Protocol.ClientCommandMessage\n    ) => void;\n  },\n  ref: React.ForwardedRef<any>\n): React.ReactElement {\n  const chartRef = useRef<ChartJSOrUndefined<\"line\">>();\n\n  const [, setForceUpdate] = useState(0);\n  const [pause, setPause] = useState(false);\n  const [connected, setConnected] = useState(\n    config?.monitorUISettings?.connected\n  );\n  const [dataPointThreshold] = useState(50);\n  const [cubicInterpolationMode, setCubicInterpolationMode] = useState<\n    \"default\" | \"monotone\"\n  >(config?.monitorUISettings?.interpolate ? \"monotone\" : \"default\");\n  const [initialData] = useState<ChartData<\"line\">>({\n    datasets: [],\n  });\n\n  const [opts, setOpts] = useState<ChartOptions<\"line\">>({\n    animation: false,\n    maintainAspectRatio: false,\n    normalized: true,\n    parsing: false,\n    datasets: {\n      line: {\n        pointRadius: 0,\n        pointHoverRadius: 0,\n      },\n    },\n    interaction: {\n      intersect: false,\n    },\n    plugins: {\n      tooltip: {\n        caretPadding: 9,\n        enabled: false, // tooltips are enabled on stop only\n        bodyFont: {\n          family: \"Open Sans\",\n        },\n        titleFont: {\n          family: \"Open Sans\",\n        },\n      },\n      decimation: {\n        enabled: true,\n        algorithm: \"min-max\",\n      },\n      legend: {\n        display: false,\n      },\n    },\n    elements: {\n      line: {\n        tension: 0, // disables bezier curves\n      },\n    },\n    scales: {\n      y: {\n        grid: {\n          color: config?.monitorUISettings?.darkTheme ? \"#2C353A\" : \"#ECF1F1\",\n        },\n        ticks: {\n          color: config?.monitorUISettings?.darkTheme ? \"#DAE3E3\" : \"#2C353A\",\n          font: {\n            family: \"Open Sans\",\n          },\n        },\n        grace: \"5%\",\n      },\n      x: {\n        grid: {\n          color: config?.monitorUISettings?.darkTheme ? \"#2C353A\" : \"#ECF1F1\",\n        },\n        display: true,\n        ticks: {\n          font: {\n            family: \"Open Sans\",\n          },\n          color: config?.monitorUISettings?.darkTheme ? \"#DAE3E3\" : \"#2C353A\",\n          count: 5,\n          callback: (value) => {\n            return parseInt(value.toString(), 10);\n          },\n          align: \"center\",\n        },\n        type: \"linear\",\n        bounds: \"data\",\n\n        // Other notable settings:\n        // type: \"timeseries\"\n        // time: {\n        //   unit: \"second\",\n        //   stepSize: 1,\n        // },\n\n        // type: \"realtime\"\n        // duration: 10000,\n        // delay: 500,\n      },\n    },\n  });\n\n  const enableTooltips = useCallback(\n    (newState: boolean) => {\n      (opts.plugins as any).tooltip.enabled = newState;\n      opts.datasets!.line!.pointHoverRadius = newState ? 3 : 0;\n      setOpts(opts);\n      chartRef.current?.update();\n    },\n    [opts]\n  );\n\n  useEffect(() => {\n    if (!config?.monitorUISettings?.connected) {\n      setConnected(false);\n      // when disconnected, force tooltips to be enabled\n      enableTooltips(true);\n      return;\n    }\n\n    // when the connection becomes connected, need to cleanup the previous state\n    if (!connected && config?.monitorUISettings?.connected) {\n      // cleanup buffer state\n      worker.postMessage({ command: \"cleanup\" });\n      setConnected(true);\n\n      // restore the tooltips state (which match the pause state when connected)\n      enableTooltips(pause);\n    }\n  }, [config?.monitorUISettings?.connected, connected, pause, enableTooltips]);\n\n  const togglePause = (newState: boolean) => {\n    if (newState === pause) {\n      return;\n    }\n    if (opts.scales!.x?.type === \"realtime\") {\n      (chartRef.current as any).options.scales.x.realtime.pause = pause;\n    }\n    setPause(newState);\n    worker.postMessage({ command: \"cleanup\" });\n    enableTooltips(newState);\n  };\n\n  const setInterpolate = (interpolate: boolean) => {\n    const newCubicInterpolationMode = interpolate ? \"monotone\" : \"default\";\n\n    if (chartRef && chartRef.current) {\n      for (let i = 0; i < chartRef.current.data.datasets.length; i++) {\n        const dataset = chartRef.current.data.datasets[i];\n        if (dataset) {\n          dataset.cubicInterpolationMode = newCubicInterpolationMode;\n        }\n      }\n      chartRef.current.update();\n      setCubicInterpolationMode(newCubicInterpolationMode);\n    }\n  };\n\n  useImperativeHandle(ref, () => ({\n    addNewData(message: string[]) {\n      if (pause) {\n        return;\n      }\n      // upon message receival update the chart\n      worker.postMessage({ message });\n    },\n  }));\n\n  useEffect(() => {\n    const addData = (event: MessageEvent<any>) => {\n      addDataPoints(\n        event.data,\n        chartRef.current,\n        opts,\n        cubicInterpolationMode,\n        dataPointThreshold,\n        setForceUpdate\n      );\n    };\n    worker.addEventListener(\"message\", addData);\n\n    return () => {\n      worker.removeEventListener(\"message\", addData);\n    };\n  }, [cubicInterpolationMode, opts, dataPointThreshold]);\n\n  return (\n    <>\n      <div className=\"chart-container\">\n        <Legend\n          chartRef={chartRef.current}\n          pause={pause}\n          config={config}\n          cubicInterpolationMode={cubicInterpolationMode}\n          wsSend={wsSend}\n          setPause={togglePause}\n          setInterpolate={setInterpolate}\n        />\n        <div className=\"canvas-container\">\n          <Line data={initialData} ref={chartRef as any} options={opts} />\n        </div>\n        <MessageToBoard config={config} wsSend={wsSend} />\n\n        {!connected && (\n          <Snackbar\n            anchorOrigin={{\n              horizontal: \"center\",\n              vertical: \"bottom\",\n            }}\n            autoHideDuration={7000}\n            className=\"snackbar\"\n            closeable\n            isOpen\n            message=\"Board disconnected\"\n            theme={config?.monitorUISettings?.darkTheme ? \"dark\" : \"light\"}\n            turnOffAutoHide\n          />\n        )}\n      </div>\n    </>\n  );\n}\n\nexport const ChartPlotter = React.forwardRef(_Chart);\n","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"static/js/msgAggregatorWorker.a9dd697c.worker.js\");\n}\n","const separator = \"\\n\";\n// format1: <value1> <value2> <value3>\nexport const generateRandomMessages = () => {\n  const messages: string[] = [];\n\n  for (let i = 0; i < 1; i++) {\n    const variables = [];\n    for (let j = 1; j < 9; j++) {\n      // generate serie name\n      variables.push(`${Math.floor(Math.random() * 10)}`);\n    }\n    let line = variables.join(\" \");\n\n    messages.push(line + separator);\n  }\n\n  return messages;\n};\n\nconst genNamedVarValPair = (i: number) => {\n  const name = `name ${i}`;\n  const val = `${Math.floor(Math.random() * 10)}`;\n  return `${name}:${val}`;\n};\n\n// format2: name1:<value1>,name2:<value2>,name3:<value3>\nexport const namedVariables = () => {\n  const messages: string[] = [];\n\n  for (let i = 1; i <= 9; i++) {\n    let pair = genNamedVarValPair(i);\n    messages.push(pair);\n  }\n  return [messages.join(\",\") + separator];\n};\n\nexport const namedVariablesMulti = () => {\n  const messages: string[] = [];\n\n  for (let i = 1; i <= 30; i++) {\n    messages.push(...namedVariables());\n  }\n  return messages;\n};\n\nfunction* variableIdexes(): Generator<number[]> {\n  let index = 0;\n  while (true) {\n    index++;\n    if (index > 9) {\n      yield [1, 3];\n    } else {\n      yield [1, 2, 3];\n    }\n  }\n}\n\n// alternates\n// name1:<value1>,name2:<value2>,name3:<value3>\n// and\n// name1:<value1>,name3:<value3>\n// every 10 messages\nconst iterator = variableIdexes();\nexport const jumpyNamedVariables = () => {\n  const messages: string[] = [];\n\n  for (let i of iterator.next().value) {\n    let pair = genNamedVarValPair(i);\n    messages.push(pair);\n  }\n  return [messages.join(\",\") + separator];\n};\n","import { useEffect, useState, useCallback, useRef } from \"react\";\nimport { ChartPlotter } from \"./ChartPlotter\";\nimport { namedVariablesMulti } from \"./fakeMessagsGenerators\";\nimport { EOL, isEOL, MonitorSettings, PluggableMonitor } from \"./utils\";\n\nexport default function App() {\n  const [config, setConfig] = useState<Partial<MonitorSettings | null>>(null);\n\n  const [webSocketPort, setWebsocketPort] = useState<number>();\n  const [serialPort, setSerialPort] = useState<string>();\n\n  const [websocketIsConnected, setWebsocketIsConnected] = useState(false);\n\n  const websocket = useRef<WebSocket | null>(null);\n\n  const chartRef = useRef<any>();\n\n  const wsSend = useCallback(\n    (clientCommand: PluggableMonitor.Protocol.ClientCommandMessage) => {\n      if (websocket.current?.readyState === WebSocket.OPEN) {\n        websocket.current.send(JSON.stringify(clientCommand));\n      }\n    },\n    []\n  );\n\n  const onMiddlewareMessage = useCallback(\n    (message: PluggableMonitor.Protocol.Message) => {\n      // if there is no command\n      if (PluggableMonitor.Protocol.isDataMessage(message)) {\n        chartRef && chartRef.current && chartRef.current.addNewData(message);\n        return;\n      }\n\n      if (PluggableMonitor.Protocol.isMiddlewareCommandMessage(message)) {\n        const {\n          autoscroll,\n          timestamp,\n          lineEnding,\n          interpolate,\n          darkTheme,\n          wsPort,\n          serialPort: serialPortExtracted,\n          connected,\n          generate,\n        } = message.data.monitorUISettings || {};\n\n        let updateTitle = false;\n        let serialNameTitle = serialPort;\n        if (typeof serialPortExtracted !== \"undefined\") {\n          serialNameTitle = serialPortExtracted;\n          updateTitle = true;\n        }\n\n        let connectedTitle = connected === false ? \" (disconnected)\" : \"\";\n        if (typeof connected !== \"undefined\") {\n          connectedTitle = connected === false ? \" (disconnected)\" : \"\";\n          updateTitle = true;\n        }\n\n        if (updateTitle) {\n          document.title = `${serialNameTitle}${connectedTitle}`;\n        }\n\n        if (typeof darkTheme !== \"undefined\") {\n          darkTheme\n            ? document.body.classList.add(\"dark\")\n            : document.body.classList.remove(\"dark\");\n        }\n\n        // ** we should not set a \"setting\" as undefined FROM THE IDE,\n        // ** more specifically we will not overwrite a given \"setting\" if we receive a message from the IDE that doesn't include it,\n        // ** we only overwrite a given \"setting\" if we recieve a value for it (that's not undefined) from the IDE\n\n        const { id, label, type, values, selectedValue } =\n          message.data.pluggableMonitorSettings?.baudrate || {};\n\n        setConfig((prevConfig) => ({\n          pluggableMonitorSettings: {\n            baudrate: {\n              id:\n                typeof id === \"undefined\"\n                  ? prevConfig?.pluggableMonitorSettings?.baudrate?.id\n                  : id,\n              label:\n                typeof label === \"undefined\"\n                  ? prevConfig?.pluggableMonitorSettings?.baudrate?.label\n                  : label,\n              type:\n                typeof type === \"undefined\"\n                  ? prevConfig?.pluggableMonitorSettings?.baudrate?.type\n                  : type,\n              values:\n                typeof values === \"undefined\"\n                  ? prevConfig?.pluggableMonitorSettings?.baudrate?.values\n                  : values,\n              selectedValue:\n                typeof selectedValue === \"undefined\"\n                  ? prevConfig?.pluggableMonitorSettings?.baudrate\n                      ?.selectedValue || \"9600\"\n                  : selectedValue,\n            },\n          },\n          monitorUISettings: {\n            autoscroll:\n              typeof autoscroll === \"undefined\"\n                ? prevConfig?.monitorUISettings?.autoscroll\n                : autoscroll,\n            timestamp:\n              typeof timestamp === \"undefined\"\n                ? prevConfig?.monitorUISettings?.timestamp\n                : timestamp,\n            lineEnding:\n              typeof lineEnding === \"undefined\"\n                ? prevConfig?.monitorUISettings?.lineEnding\n                : lineEnding,\n            interpolate:\n              typeof interpolate === \"undefined\"\n                ? prevConfig?.monitorUISettings?.interpolate\n                : interpolate,\n            darkTheme:\n              typeof darkTheme === \"undefined\"\n                ? prevConfig?.monitorUISettings?.darkTheme\n                : darkTheme,\n            connected:\n              typeof connected === \"undefined\"\n                ? prevConfig?.monitorUISettings?.connected\n                : connected,\n            generate:\n              typeof generate === \"undefined\"\n                ? prevConfig?.monitorUISettings?.generate\n                : generate,\n          },\n        }));\n\n        if (typeof serialPortExtracted !== \"undefined\") {\n          setSerialPort(serialPortExtracted);\n        }\n        if (typeof wsPort !== \"undefined\") {\n          setWebsocketPort(wsPort);\n        }\n      }\n    },\n    [serialPort]\n  );\n\n  // as soon as the wsPort is set, create a websocket connection\n  useEffect(() => {\n    if (!webSocketPort) {\n      return;\n    }\n\n    console.log(`opening ws connection on localhost:${webSocketPort}`);\n    websocket.current = new WebSocket(`ws://localhost:${webSocketPort}`);\n    setWebsocketIsConnected(true);\n\n    const wsCurrent = websocket.current;\n    return () => {\n      console.log(\"closing ws connection\");\n      wsCurrent.close();\n    };\n  }, [webSocketPort]);\n\n  useEffect(() => {\n    if (websocketIsConnected && websocket.current) {\n      websocket.current.onmessage = (res: any) => {\n        const message: PluggableMonitor.Protocol.Message = JSON.parse(res.data);\n        onMiddlewareMessage(message);\n      };\n    }\n  }, [websocketIsConnected, onMiddlewareMessage]);\n\n  // at bootstrap read params from the URL\n  useEffect(() => {\n    if (config === null) {\n      const urlParams = new URLSearchParams(window.location.search);\n\n      const urlSettings: MonitorSettings = {\n        pluggableMonitorSettings: {\n          baudrate: {\n            id: \"baudrate\",\n            label: \"Baudrate\",\n            type: \"enum\",\n            values: (urlParams.get(\"baudrates\") || \"\").split(\",\"),\n            selectedValue: urlParams.get(\"currentBaudrate\") || \"9600\",\n          },\n        },\n        monitorUISettings: {\n          lineEnding: isEOL(urlParams.get(\"lineEnding\"))\n            ? (urlParams.get(\"lineEnding\") as EOL)\n            : \"\\n\",\n          darkTheme: urlParams.get(\"darkTheme\") === \"true\",\n          wsPort: parseInt(urlParams.get(\"wsPort\") || \"3030\"),\n          interpolate: urlParams.get(\"interpolate\") === \"true\",\n          serialPort: urlParams.get(\"serialPort\") || \"/serial/port/address\",\n          connected: urlParams.get(\"connected\") === \"true\",\n          generate: urlParams.get(\"generate\") === \"true\",\n        },\n      };\n\n      onMiddlewareMessage({\n        command:\n          PluggableMonitor.Protocol.MiddlewareCommand.ON_SETTINGS_DID_CHANGE,\n        data: urlSettings,\n      });\n    }\n  }, [config, onMiddlewareMessage]);\n\n  // If in \"generate\" mode, create fake data\n  useEffect(() => {\n    if (config?.monitorUISettings?.generate) {\n      const randomValuesInterval = setInterval(() => {\n        const messages = namedVariablesMulti();\n        onMiddlewareMessage(messages);\n      }, 32);\n      return () => {\n        clearInterval(randomValuesInterval);\n      };\n    }\n  }, [config, onMiddlewareMessage]);\n\n  return (\n    (config && (\n      <ChartPlotter config={config} wsSend={wsSend} ref={chartRef} />\n    )) ||\n    null\n  );\n}\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}